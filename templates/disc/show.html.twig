{% extends 'base.html.twig' %}

{% block title %}{{ disc.title }}{% endblock %}

{% block body %}
    <a class="btn btn-secondary my-1" href={{ path ('app_disc_index') }}>Retour</a>

    <div class='d-flex flex-column flex-md-row justify-content-md-between'> 
        <div class='d-flex flex-column col-10 align-self-center flex-md-row'>
            <div class="col-md-4">
                <img class="img-fluid" src="{{ asset ('images/disc/') }}{{ disc.picture }}" alt="{{ disc.title }}" title="{{ disc.title }}">
            </div>

            <div class='ms-md-2 my-2 my-md-0 d-flex flex-column justify-content-between'>
                <div class=''>
                    <h1 class='m-0'>{{ disc.title }}</h1>
                    <a href='{{ path ('app_artist_show', {id: disc.artist.id}) }}' class='text-decoration-none h4'>{{ disc.artist.name }}</a>
                    <p class='m-0'><b>Label : </b>{{ disc.label }}</p>
                    <p class='m-0'><b>Année : </b>{{ disc.year }}</p>
                </div>
                <div class=''>
                    <h2 class='m-0'><b>Prix : </b>{{ disc.price }} €</h2>
                </div>
            </div>
        </div>

        <div class='d-flex flex-column col-10 align-self-center align-self-md-start col-md-2'>            
            {% if is_granted('ROLE_ADMIN') %}
                <a class="btn btn-danger mb-1" data-bs-toggle="modal" data-bs-target="#deleteModal">Supprimer</a> <!-- Affiche une box de confirmation -->
                <a class="btn btn-primary mb-1" href="{{ path ('app_disc_edit', {id: disc.id}) }}">Modifer</a>
            {% endif %}
        </div>
    </div>

    {% if is_granted('ROLE_ADMIN') %}
        <!-- Modal -->
        <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModal" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deleteModalLabel">Supprimer</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Confirmer la suppression de '{{ disc.title }}' ?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                    {{ include('disc/_delete_form.html.twig') }}
                </div>
                </div>
            </div>
        </div>
    {% endif %}
{% endblock %}